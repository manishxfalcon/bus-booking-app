<div class="container mt-4 mb-5">
  <h2 class="page-title mb-4 text-center">Available Buses</h2>

  <div *ngIf="searchData && searchData.length > 0; else noResults">
    <div class="row g-4">
      <div class="col-md-6 col-lg-4" *ngFor="let item of searchData; trackBy: trackById">
        <div class="card bus-card h-100 shadow-sm">
          <div class="card-body d-flex flex-column justify-content-between">
            <div>
              <h5 class="bus-title">
                {{ item.busName }}
                <span class="bus-no">({{ item.busVehicleNo }})</span>
              </h5>
              <p class="vendor-name text-muted mb-2">
                <i class="fa fa-bus me-1"></i>{{ item.vendorName }}
              </p>

              <div class="d-flex justify-content-between align-items-center mb-3 time-section">
                <div>
                  <h6 class="mb-0 fw-semibold">{{ item.departureTime | date: 'shortTime' }}</h6>
                  <small class="text-muted">{{ item.fromLocationName }}</small>
                </div>
                <i class="fa fa-arrow-right text-primary fs-5"></i>
                <div class="text-end">
                  <h6 class="mb-0 fw-semibold">{{ item.arrivalTime | date: 'shortTime' }}</h6>
                  <small class="text-muted">{{ item.toLocationName }}</small>
                </div>
              </div>

              <div class="seat-info mb-3">
                <span class="badge bg-success-subtle text-success border border-success me-2">
                  {{ item.availableSeats }} Seats Left
                </span>
                <span class="badge bg-light text-muted border">
                  Total: {{ item.totalSeats }}
                </span>
              </div>

              <div class="schedule-date text-muted small mt-2">
                <i class="fa fa-calendar me-1"></i>
                {{ item.departureTime | date: 'dd MMM yyyy' }}
              </div>
            </div>

            <div class="d-flex justify-content-between align-items-center mt-3">
              <h5 class="mb-0 text-primary fw-bold">â‚¹{{ item.price }}</h5>
              <button class="btn btn-outline-primary btn-sm rounded-pill">Book Now</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #noResults>
    <div class="text-center mt-5">
      <i class="fa fa-exclamation-circle text-secondary fs-3 mb-3"></i>
      <p class="text-muted">No buses found for the selected route and date.</p>
    </div>
  </ng-template>
</div>
